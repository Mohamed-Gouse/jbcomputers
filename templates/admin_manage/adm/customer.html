{% extends 'admin_manage/adm/base.html' %}

{% block body_content %}

<div class="container-fluid p-2">
    <div class="row">
        <div class="col-10 m-auto bg-white rounded shadow-sm p-3">
            <h3 class="fw-bold text-center">Customers</h3>
            <hr>
            <table class="table table-bordered text-center">
                <tr>
                    <th>Sl No</th>
                    <th>Customer Name</th>
                    <th>Email</th>
                    <th>Status</th>
                    <th colspan="2">Action</th>
                </tr>
                {% for customer in customers %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ customer.username }}</td>
                    <td>{{ customer.email }}</td>
                    <td>
                        {% if customer.is_active %}
                            <span class="text-success">Active</span>
                        {% else %}
                            <span class="text-danger">Blocked</span>
                        {% endif %}
                    </td>
                    <td>
                        {% if customer.is_active %}
                            <a href="{% url 'customer_block' customer.id %}" class="btn btn-danger">Block</a>
                        {% else %}
                            <a href="{% url 'customer_block' customer.id %}" class="btn btn-success">Unblock</a>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}

            </table>
        </div>
    </div>

</div>

{% endblock body_content %}